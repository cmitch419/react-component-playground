{"version":3,"sources":["components/BookPage/AudioComponent.jsx","components/BookPage/ShapeComponent.jsx","components/BookPage/BookPage.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["AudioComponent","src","targetId","myAudioElement","Audio","addEventListener","document","getElementById","onclick","play","Circle","styled","div","props","width","height","x","y","Shape","shape","StyledBookPage","BookPage","image","caption","components","text","imgEl","useRef","useState","dimensions","setDimensions","useEffect","updateDimensions","debounce","current","offsetWidth","offsetHeight","window","removeEventListener","ref","alt","onLoad","map","component","type","ShapeComponent","id","data","pages","App","page","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.dd24aaf3.chunk.js","sourcesContent":["const AudioComponent = ({ src, targetId }) => {\n  const myAudioElement = new Audio(src);\n  myAudioElement.addEventListener(\"canplaythrough\", () => {\n    document.getElementById(targetId).onclick = () => myAudioElement.play();\n  });\n  return null;\n};\n\nexport default AudioComponent;\n","import styled from 'styled-components';\n\nconst Circle = styled.div`\n  position: absolute;\n  opacity: 50%;\n  width: ${props => props.width || 100}px;\n  height: ${props => props.height || 100}px;\n  background: red;\n  border-radius: 50%;\n  left: calc(${props => props.x || 0}% - ${props => props.width / 2}px);\n  top: calc(${props => props.y || 0}% - ${props => props.height / 2}px);\n  :hover {\n    opacity: 20%;\n  }\n`;\n\nconst Shape = ({ shape, ...props }) => {\n  switch (shape) {\n    case 'circle':\n      return <Circle {...props} />\n    default:\n      return null;\n  }\n};\n\nexport default Shape;\n","import { useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport debounce from 'debounce';\n\nimport AudioComponent from './AudioComponent';\nimport ShapeComponent from './ShapeComponent';\n\nconst StyledBookPage = styled.div`\n  position: relative;\n  height: ${props => props.height}px;\n  img {\n    position: absolute;\n    width: 100%;\n    height: auto;\n  }\n`;\n\nconst BookPage = ({ image, caption, text, components }) => {\n  const imgEl = useRef(null);\n  const [dimensions, setDimensions] = useState({ width: 0, height: 0 });\n\n  useEffect(() => {\n    const updateDimensions = debounce(() => {\n      if (imgEl.current) {\n        setDimensions({\n          width: imgEl.current.offsetWidth,\n          height: imgEl.current.offsetHeight,\n        })\n      }\n    }, 50);\n    window.addEventListener('resize', updateDimensions);\n    return () => {\n      window.removeEventListener('resize', updateDimensions);\n    };\n  }, []);\n\n  return (\n    <>\n      <StyledBookPage {...dimensions} >\n        <img\n          ref={imgEl}\n          src={image}\n          alt={caption}\n          onLoad={() =>\n            setDimensions({\n              width: imgEl.current.offsetWidth,\n              height: imgEl.current.offsetHeight,\n            })}\n        />\n        {components && components.map((component) => {\n          switch (component.type) {\n            case 'shape':\n              return <ShapeComponent key={component.id} {...component} />\n            case 'audio':\n              return <AudioComponent key={component.id} {...component} />\n            default:\n              return null;\n          }\n        })}\n      </StyledBookPage>\n    </>\n  );\n};\n\nexport default BookPage;\n","import BookPage from './components/BookPage/BookPage'\nconst data = {\n  pages: [\n    {\n      id: 1,\n      type: 'bookPage',\n      image: 'http://www.fillmurray.com/g/200/300',\n      caption: 'Something interesting',\n      text: 'Hey yo',\n      components: [\n        {\n          id: 1,\n          type: 'shape',\n          shape: 'circle',\n          width: 40,\n          height: 40,\n          x: 50,\n          y: 50,\n        },\n        {\n          id: 2,\n          type: 'shape',\n          shape: 'circle',\n          width: 30,\n          height: 30,\n          x: 25,\n          y: 25\n        },\n        {\n          id: 3,\n          type: 'shape',\n          shape: 'circle',\n          width: 50,\n          height: 50,\n          x: 75,\n          y: 75\n        },\n        {\n          id: 4,\n          type: 'audio',\n          src: 'https://www.soundjay.com/human/fart-01.mp3',\n          targetId: 2,\n        },\n        {\n          id: 5,\n          type: 'audio',\n          src: 'https://www.soundjay.com/human/fart-squeak-01.mp3',\n          targetId: 1,\n        }\n      ]\n    },\n    {\n      type: 'bookPage',\n      image: './some-image.jpg',\n      caption: 'Something interesting',\n      text: 'Hey yo',\n    },\n  ],\n};\n\nfunction App() {\n  return (\n    <div>\n      { data && data.pages && data.pages.map((page) =>\n        <BookPage key={`page${page.id}`} {...page} />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}